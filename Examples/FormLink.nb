Notebook[{
Cell[BoxData[
 RowBox[{"SetOptions", "[", 
  RowBox[{
   RowBox[{"InputNotebook", "[", "]"}], ",", 
   RowBox[{"PrivateNotebookOptions", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<FileOutlineCache\>\"", "\[Rule]", "False"}], "}"}]}], ",", 
   RowBox[{"TrackCellChangeTimes", "\[Rule]", "False"}]}], "]"}]], "Input"],

Cell[CellGroupData[{

Cell[TextData[{
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " \[LongLeftRightArrow] FORM "
}], "Title",
 CellChangeTimes->{{3.5640311107471724`*^9, 3.564031121611188*^9}}],

Cell["Loading the package:", "Text"],

Cell[BoxData[
 RowBox[{"<<", "FormLink`"}]], "Input"],

Cell[CellGroupData[{

Cell["Description", "Section"],

Cell[TextData[{
 "FormLink is a function for running FORM from ",
 StyleBox["Mathematica ",
  FontSlant->"Italic"],
 "and returning the result to ",
 StyleBox["Mathematica.",
  FontSlant->"Italic"]
}], "Text",
 CellChangeTimes->{{3.564255142358741*^9, 3.5642552353997755`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"?", "FormLink"}]], "Input"],

Cell[BoxData[
 StyleBox["\<\"FormLink[\\\" form statements \\\"] runs the form statements \
in Form and returns the result to Mathematica.\\nIf only one Local assignment \
is present the return value is that result. If more Form Local variables are \
present, a list of results is returned.\"\>", "MSG"]], "Print", "PrintUsage",
 CellTags->"Info3638862997-6517792"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Options", "@", "FormLink"}]], "Input"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"Assign", "\[Rule]", "False"}], ",", 
   RowBox[{"Form2M", "\[Rule]", "Form2M"}], ",", 
   RowBox[{"FormSetup", "\[RuleDelayed]", "$FormSetup"}], ",", 
   RowBox[{"Replace", "\[RuleDelayed]", "$Form2M"}], ",", 
   RowBox[{"Print", "\[Rule]", "True"}], ",", 
   RowBox[{"Style", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
      InterpretationBox[
       ButtonBox[
        TooltipBox[
         RowBox[{
          GraphicsBox[{
            {GrayLevel[0], RectangleBox[{0, 0}]}, 
            {GrayLevel[0], RectangleBox[{1, -1}]}, 
            {RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.], 
             RectangleBox[{0, -1}, {2, 1}]}},
           AspectRatio->1,
           Frame->True,
           FrameStyle->RGBColor[0.2962962962962964, 0.1481481481481482, 0.],
           FrameTicks->None,
           
           ImageSize->
            Dynamic[{
             Automatic, 1.35 CurrentValue["FontCapHeight"]/
              AbsoluteCurrentValue[Magnification]}],
           PlotRangePadding->None], "\[InvisibleSpace]"}],
         "RGBColor[0.44444444444444453, 0.22222222222222227, 0.]"],
        Appearance->None,
        BaseStyle->{},
        BaselinePosition->Baseline,
        ButtonFunction:>With[{Typeset`box$ = EvaluationBox[]}, 
          If[
           Not[
            AbsoluteCurrentValue["Deployed"]], 
           SelectionMove[Typeset`box$, All, Expression]; 
           FrontEnd`Private`$ColorSelectorInitialAlpha = 1; 
           FrontEnd`Private`$ColorSelectorInitialColor = 
            RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.]; 
           FrontEnd`Private`$ColorSelectorUseMakeBoxes = True; 
           MathLink`CallFrontEnd[
             FrontEnd`AttachCell[Typeset`box$, 
              FrontEndResource["RGBColorValueSelector"], {
              0, {Left, Bottom}}, {Left, Top}, 
              "ClosingActions" -> {
               "SelectionDeparture", "ParentChanged", "EvaluatorQuit"}]]]],
        DefaultBaseStyle->{},
        Evaluator->Automatic,
        Method->"Preemptive"],
       RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
       Editable->False,
       Selectable->False], ",", 
      RowBox[{"FontFamily", "\[Rule]", "\<\"Courier\"\>"}]}], "}"}]}]}], 
  "}"}]], "Output"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData["$FormSetup"], "Input"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"TempDir\"\>", "\[RuleDelayed]", "$TemporaryDirectory"}], 
  "}"}]], "Output"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"?", "FormSetup"}]], "Input"],

Cell[BoxData[
 StyleBox["\<\"FormSetup is an option for FormStart, FormLink and RunForm. It \
is set by default to $FormSetup. $FormSetup can be modified to change \
TempDir, etc. .\\nCurrently a form.set file is written next to the FORM \
executable. \"\>", "MSG"]], "Print", "PrintUsage",
 CellTags->"Info3638862998-6517792"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"?", "Form2M"}]], "Input"],

Cell[BoxData[
 StyleBox["\<\"Form2M[string, replist] translates string by ToExpression[ \
StringReplace[string, replist], TraditionalForm]  to Mathematica.\"\>", 
  "MSG"]], "Print", "PrintUsage",
 CellTags->"Info3638862998-6517792"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"?", "$Form2M"}]], "Input"],

Cell[BoxData[
 StyleBox["\<\"$Form2M is a list ob basic Form -> Mathematica syntax changes.\
\"\>", "MSG"]], "Print", "PrintUsage",
 CellTags->"Info3638862998-6517792"]
}, Open  ]],

Cell["$Form2M can be adjusted dynamically or in Config.m", "Text"]
}, Open  ]],

Cell[CellGroupData[{

Cell["FormLink examples", "Section"],

Cell[CellGroupData[{

Cell["A short trace", "Subsection"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"short", "=", 
  RowBox[{
  "FormLink", "[", " ", 
   "\"\<\n                   AutoDeclare vector p;\n                   Local \
T = g_(0, p1,p2,p3,p4,p5,p6);\[IndentingNewLine]               trace4 0;\n    \
           \>\"", "]"}]}]], "Input",
 CellChangeTimes->{{3.5641521622343025`*^9, 3.564152183752533*^9}, {
  3.5641533630389843`*^9, 3.564153363766026*^9}, {3.5642520583132772`*^9, 
  3.5642520667482014`*^9}, {3.5642559765634522`*^9, 3.564255980104658*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"FORM and FormRead finished, time needed before translating to \
Mathematica: \"\>", "\[InvisibleSpace]", "0.002`", 
   "\[InvisibleSpace]", "\<\" sec\"\>"}],
  SequenceForm[
  "FORM and FormRead finished, time needed before translating to Mathematica: \
", 0.002, " sec"],
  Editable->False]], "Print"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Translation done. Total wall clock time needed: \"\>", 
   "\[InvisibleSpace]", "0.08560000000000001`", 
   "\[InvisibleSpace]", "\<\" sec\"\>"}],
  SequenceForm[
  "Translation done. Total wall clock time needed: ", 0.08560000000000001, 
   " sec"],
  Editable->False]], "Print"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"4", " ", 
   RowBox[{"p1", ".", "p6"}], " ", 
   RowBox[{"p2", ".", "p5"}], " ", 
   RowBox[{"p3", ".", "p4"}]}], "-", 
  RowBox[{"4", " ", 
   RowBox[{"p1", ".", "p5"}], " ", 
   RowBox[{"p2", ".", "p6"}], " ", 
   RowBox[{"p3", ".", "p4"}]}], "-", 
  RowBox[{"4", " ", 
   RowBox[{"p1", ".", "p6"}], " ", 
   RowBox[{"p2", ".", "p4"}], " ", 
   RowBox[{"p3", ".", "p5"}]}], "+", 
  RowBox[{"4", " ", 
   RowBox[{"p1", ".", "p4"}], " ", 
   RowBox[{"p2", ".", "p6"}], " ", 
   RowBox[{"p3", ".", "p5"}]}], "+", 
  RowBox[{"4", " ", 
   RowBox[{"p1", ".", "p5"}], " ", 
   RowBox[{"p2", ".", "p4"}], " ", 
   RowBox[{"p3", ".", "p6"}]}], "-", 
  RowBox[{"4", " ", 
   RowBox[{"p1", ".", "p4"}], " ", 
   RowBox[{"p2", ".", "p5"}], " ", 
   RowBox[{"p3", ".", "p6"}]}], "+", 
  RowBox[{"4", " ", 
   RowBox[{"p1", ".", "p6"}], " ", 
   RowBox[{"p2", ".", "p3"}], " ", 
   RowBox[{"p4", ".", "p5"}]}], "-", 
  RowBox[{"4", " ", 
   RowBox[{"p1", ".", "p3"}], " ", 
   RowBox[{"p2", ".", "p6"}], " ", 
   RowBox[{"p4", ".", "p5"}]}], "+", 
  RowBox[{"4", " ", 
   RowBox[{"p1", ".", "p2"}], " ", 
   RowBox[{"p3", ".", "p6"}], " ", 
   RowBox[{"p4", ".", "p5"}]}], "-", 
  RowBox[{"4", " ", 
   RowBox[{"p1", ".", "p5"}], " ", 
   RowBox[{"p2", ".", "p3"}], " ", 
   RowBox[{"p4", ".", "p6"}]}], "+", 
  RowBox[{"4", " ", 
   RowBox[{"p1", ".", "p3"}], " ", 
   RowBox[{"p2", ".", "p5"}], " ", 
   RowBox[{"p4", ".", "p6"}]}], "-", 
  RowBox[{"4", " ", 
   RowBox[{"p1", ".", "p2"}], " ", 
   RowBox[{"p3", ".", "p5"}], " ", 
   RowBox[{"p4", ".", "p6"}]}], "+", 
  RowBox[{"4", " ", 
   RowBox[{"p1", ".", "p4"}], " ", 
   RowBox[{"p2", ".", "p3"}], " ", 
   RowBox[{"p5", ".", "p6"}]}], "-", 
  RowBox[{"4", " ", 
   RowBox[{"p1", ".", "p3"}], " ", 
   RowBox[{"p2", ".", "p4"}], " ", 
   RowBox[{"p5", ".", "p6"}]}], "+", 
  RowBox[{"4", " ", 
   RowBox[{"p1", ".", "p2"}], " ", 
   RowBox[{"p3", ".", "p4"}], " ", 
   RowBox[{"p5", ".", "p6"}]}]}]], "Output",
 LineColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 FrontFaceColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 BackFaceColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 GraphicsColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 FontFamily->"Courier",
 FontColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"%", "//", "InputForm"}]], "Input",
 CellChangeTimes->{{3.5641521987963934`*^9, 3.5641522004954906`*^9}}],

Cell["\<\
4*p1 . p6*p2 . p5*p3 . p4 - 4*p1 . p5*p2 . p6*p3 . p4 - 4*p1 . p6*p2 . p4*p3 \
. p5 + 4*p1 . p4*p2 . p6*p3 . p5 + 
 4*p1 . p5*p2 . p4*p3 . p6 - 4*p1 . p4*p2 . p5*p3 . p6 + 4*p1 . p6*p2 . p3*p4 \
. p5 - 4*p1 . p3*p2 . p6*p4 . p5 + 
 4*p1 . p2*p3 . p6*p4 . p5 - 4*p1 . p5*p2 . p3*p4 . p6 + 4*p1 . p3*p2 . p5*p4 \
. p6 - 4*p1 . p2*p3 . p5*p4 . p6 + 
 4*p1 . p4*p2 . p3*p5 . p6 - 4*p1 . p3*p2 . p4*p5 . p6 + 4*p1 . p2*p3 . p4*p5 \
. p6\
\>", "Output"]
}, Open  ]],

Cell["Using the option Form2M \[Rule] Identity returns a string:", "Text",
 CellChangeTimes->{{3.564255249639495*^9, 3.5642552924807186`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"short", "=", 
  RowBox[{"FormLink", "[", " ", 
   RowBox[{
   "\"\<\n                   AutoDeclare vector p;\n                   Local \
T = g_(0, p1,p2,p3,p4,p5,p6);\[IndentingNewLine]               trace4 0;\n    \
            \>\"", ",", " ", 
    RowBox[{"Form2M", " ", "\[Rule]", " ", "Identity"}]}], 
   "\[IndentingNewLine]", "      ", "]"}]}]], "Input"],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"FORM and FormRead finished, time needed before translating to \
Mathematica: \"\>", "\[InvisibleSpace]", "0.0015`", 
   "\[InvisibleSpace]", "\<\" sec\"\>"}],
  SequenceForm[
  "FORM and FormRead finished, time needed before translating to Mathematica: \
", 0.0015, " sec"],
  Editable->False]], "Print"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Translation done. Total wall clock time needed: \"\>", 
   "\[InvisibleSpace]", "0.0495`", "\[InvisibleSpace]", "\<\" sec\"\>"}],
  SequenceForm[
  "Translation done. Total wall clock time needed: ", 0.0495, " sec"],
  Editable->False]], "Print"]
}, Open  ]],

Cell[BoxData["\<\"(4*p1.p2*p3.p4*p5.p6-4*p1.p2*p3.p5*p4.p6+4*p1.p2*p3.p6*p4.\
p5-4*p1.p3*p2.p4*p5.p6+4*p1.p3*p2.p5*p4.p6-4*p1.p3*p2.p6*p4.p5+4*p1.p4*p2.p3*\
p5.p6-4*p1.p4*p2.p5*p3.p6+4*p1.p4*p2.p6*p3.p5-4*p1.p5*p2.p3*p4.p6+4*p1.p5*p2.\
p4*p3.p6-4*p1.p5*p2.p6*p3.p4+4*p1.p6*p2.p3*p4.p5-4*p1.p6*p2.p4*p3.p5+4*p1.p6*\
p2.p5*p3.p4)\"\>"], "Output",
 LineColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 FrontFaceColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 BackFaceColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 GraphicsColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 FontFamily->"Courier",
 FontColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"short", "//", "StringQ"}]], "Input"],

Cell[BoxData["True"], "Output"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"Clear", "[", "short", "]"}]], "Input",
 CellChangeTimes->{{3.5641522758478003`*^9, 3.5641522775038953`*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["A longer trace", "Subsection"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"medium", "=", 
   RowBox[{"FormLink", "[", " ", 
    RowBox[{
    "\"\<\n                    AutoDeclare vector p;\n                    \
Local T = g_(0, p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p3);\
\[IndentingNewLine]               trace4 0;\n                  \>\"", ",", 
     "\[IndentingNewLine]", "                                  ", 
     RowBox[{"Form2M", " ", "\[RuleDelayed]", " ", 
      RowBox[{"Function", "[", 
       RowBox[{"x", ",", 
        RowBox[{"ToExpression", "[", 
         RowBox[{"StringReplace", "[", 
          RowBox[{"x", ",", 
           RowBox[{"\"\<.\>\"", "\[Rule]", "\"\<\>\""}]}], "]"}], "]"}]}], 
       "]"}]}]}], "\[IndentingNewLine]", "                                 ", 
    RowBox[{"(*", " ", 
     RowBox[{
      RowBox[{"Since", " ", "we", " ", "want", " ", "to", " ", "change", " ", 
       RowBox[{"p1", ".", "p2"}], " ", "to", " ", "p1p2"}], ",", 
      RowBox[{"we", " ", "replace", " ", 
       RowBox[{"the", " ", ".", " ", "to"}], " ", "an", " ", "empty", " ", 
       "string", " ", "\"\<\>"}]}], "*)"}], "\[IndentingNewLine]", "      ", 
    "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.564152239599727*^9, 3.564152241903859*^9}, {
  3.5642553062399426`*^9, 3.5642553088607473`*^9}, {3.5642559885442734`*^9, 
  3.564256008681145*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"FORM and FormRead finished, time needed before translating to \
Mathematica: \"\>", "\[InvisibleSpace]", "0.0601`", 
   "\[InvisibleSpace]", "\<\" sec\"\>"}],
  SequenceForm[
  "FORM and FormRead finished, time needed before translating to Mathematica: \
", 0.0601, " sec"],
  Editable->False]], "Print"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Translation done. Total wall clock time needed: \"\>", 
   "\[InvisibleSpace]", "0.3312`", "\[InvisibleSpace]", "\<\" sec\"\>"}],
  SequenceForm[
  "Translation done. Total wall clock time needed: ", 0.3312, " sec"],
  Editable->False]], "Print"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"medium", "//", "Length"}]], "Input"],

Cell[BoxData["11763"], "Output"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"medium", "[", 
  RowBox[{"[", "1", "]"}], "]"}]], "Input"],

Cell[BoxData[
 RowBox[{"4", " ", "p10p13", " ", "p11p12", " ", "p1p9", " ", "p2p8", " ", 
  "p3p3", " ", "p4p7", " ", "p5p6"}]], "Output"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Variables", "[", "medium", "]"}], " ", "//", " ", "InputForm"}], 
  " ", "//", "Short"}]], "Input",
 CellChangeTimes->{{3.5642586995047803`*^9, 3.564258700861983*^9}}],

Cell[BoxData[
 TagBox[
  FrameBox[
   RowBox[{"{", 
    RowBox[{
    "p10p13", ",", " ", "p11p12", ",", " ", "p1p9", ",", " ", "p2p8", ",", 
     " ", "p3p3", ",", " ", "p4p7", ",", " ", "p5p6", ",", " ", "p10p12", ",",
      " ", "p11p13", ",", " ", "p10p11", ",", " ", "p12p13", ",", " ", 
     RowBox[{
      RowBox[{"<<", "63"}], ">>"}], ",", " ", "p8p9", ",", " ", "p9p10", ",", 
     " ", "p9p11", ",", " ", "p9p12", ",", " ", "p9p13"}], "}"}],
   BoxFrame->False,
   FrameMargins->{{False, False}, {False, False}}],
  Short]], "Output"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"Clear", "[", "medium", "]"}], ";"}]], "Input"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Special cases ", "Subsection",
 CellChangeTimes->{{3.5641659399008284`*^9, 3.5641659499724045`*^9}, {
  3.5641667008293505`*^9, 3.564166706652684*^9}, {3.564168037559808*^9, 
  3.5641680423210797`*^9}}],

Cell[TextData[{
 "Objectslike [1-x] in FORM are translated to (1-x) in ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 ":"
}], "Text",
 CellChangeTimes->{{3.564255348958694*^9, 3.5642553623350744`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"FormLink", "[", 
  "\"\<\n           Symbols y,[1-x];\n           L F = [1-x] * (2*y-1)^2*3;\n \
       \>\"", "]"}]], "Input",
 CellChangeTimes->{{3.5641680529016848`*^9, 3.564168111193019*^9}, {
  3.5641690824405713`*^9, 3.564169138946803*^9}, {3.56417002753182*^9, 
  3.564170085385129*^9}, {3.5641701266474886`*^9, 3.564170195008399*^9}, {
  3.5641703060427494`*^9, 3.5641703558335977`*^9}, {3.564255371866691*^9, 
  3.564255382850111*^9}, {3.564256018289674*^9, 3.5642560189916754`*^9}, {
  3.5642585465555444`*^9, 3.5642585472731457`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"FORM and FormRead finished, time needed before translating to \
Mathematica: \"\>", "\[InvisibleSpace]", "0.0019`", 
   "\[InvisibleSpace]", "\<\" sec\"\>"}],
  SequenceForm[
  "FORM and FormRead finished, time needed before translating to Mathematica: \
", 0.0019, " sec"],
  Editable->False]], "Print"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Translation done. Total wall clock time needed: \"\>", 
   "\[InvisibleSpace]", "0.0476`", "\[InvisibleSpace]", "\<\" sec\"\>"}],
  SequenceForm[
  "Translation done. Total wall clock time needed: ", 0.0476, " sec"],
  Editable->False]], "Print"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"3", " ", 
   RowBox[{"(", 
    RowBox[{"1", "-", "x"}], ")"}]}], "-", 
  RowBox[{"12", " ", 
   RowBox[{"(", 
    RowBox[{"1", "-", "x"}], ")"}], " ", "y"}], "+", 
  RowBox[{"12", " ", 
   RowBox[{"(", 
    RowBox[{"1", "-", "x"}], ")"}], " ", 
   SuperscriptBox["y", "2"]}]}]], "Output",
 LineColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 FrontFaceColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 BackFaceColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 GraphicsColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 FontFamily->"Courier",
 FontColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"%", "//", "Factor"}]], "Input",
 CellChangeTimes->{{3.564255387833521*^9, 3.5642554279440584`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"-", "3"}], " ", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{"-", "1"}], "+", "x"}], ")"}], " ", 
  SuperscriptBox[
   RowBox[{"(", 
    RowBox[{
     RowBox[{"-", "1"}], "+", 
     RowBox[{"2", " ", "y"}]}], ")"}], "2"]}]], "Output"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"FormLink", "[", "I", "]"}]], "Input",
 CellChangeTimes->{3.5642587804363585`*^9}],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"FORM and FormRead finished, time needed before translating to \
Mathematica: \"\>", "\[InvisibleSpace]", "0.0011`", 
   "\[InvisibleSpace]", "\<\" sec\"\>"}],
  SequenceForm[
  "FORM and FormRead finished, time needed before translating to Mathematica: \
", 0.0011, " sec"],
  Editable->False]], "Print"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Translation done. Total wall clock time needed: \"\>", 
   "\[InvisibleSpace]", "0.0429`", "\[InvisibleSpace]", "\<\" sec\"\>"}],
  SequenceForm[
  "Translation done. Total wall clock time needed: ", 0.0429, " sec"],
  Editable->False]], "Print"]
}, Open  ]],

Cell[BoxData["\[ImaginaryI]"], "Output"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"FormLink", "[", "Pi", "]"}]], "Input",
 CellChangeTimes->{{3.5642587868011694`*^9, 3.56425878698837*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"FORM and FormRead finished, time needed before translating to \
Mathematica: \"\>", "\[InvisibleSpace]", "0.0014`", 
   "\[InvisibleSpace]", "\<\" sec\"\>"}],
  SequenceForm[
  "FORM and FormRead finished, time needed before translating to Mathematica: \
", 0.0014, " sec"],
  Editable->False]], "Print"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Translation done. Total wall clock time needed: \"\>", 
   "\[InvisibleSpace]", "0.0468`", "\[InvisibleSpace]", "\<\" sec\"\>"}],
  SequenceForm[
  "Translation done. Total wall clock time needed: ", 0.0468, " sec"],
  Editable->False]], "Print"]
}, Open  ]],

Cell[BoxData["\[Pi]"], "Output"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Polynomial examples", "Subsection",
 CellChangeTimes->{{3.5641659399008284`*^9, 3.5641659499724045`*^9}, {
  3.5641667008293505`*^9, 3.564166706652684*^9}}],

Cell[CellGroupData[{

Cell[TextData[{
 "Expand ",
 Cell[BoxData[
  FormBox[
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"a", "+", "b"}], ")"}], "2"], TraditionalForm]]]
}], "Subsubsection",
 CellChangeTimes->{{3.564166713630083*^9, 3.564166723686658*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"FormLink", "[", "\"\<Symbols a,b; Local F = (a+b)^2\>\"", 
  "]"}]], "Input",
 CellChangeTimes->{{3.56425854964435*^9, 3.5642586468624706`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"FORM and FormRead finished, time needed before translating to \
Mathematica: \"\>", "\[InvisibleSpace]", "0.0012000000000000001`", 
   "\[InvisibleSpace]", "\<\" sec\"\>"}],
  SequenceForm[
  "FORM and FormRead finished, time needed before translating to Mathematica: \
", 0.0012000000000000001`, " sec"],
  Editable->False]], "Print"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Translation done. Total wall clock time needed: \"\>", 
   "\[InvisibleSpace]", "0.0489`", "\[InvisibleSpace]", "\<\" sec\"\>"}],
  SequenceForm[
  "Translation done. Total wall clock time needed: ", 0.0489, " sec"],
  Editable->False]], "Print"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  SuperscriptBox["a", "2"], "+", 
  RowBox[{"2", " ", "a", " ", "b"}], "+", 
  SuperscriptBox["b", "2"]}]], "Output",
 LineColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 FrontFaceColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 BackFaceColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 GraphicsColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 FontFamily->"Courier",
 FontColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.]]
}, Open  ]],

Cell[TextData[{
 "Alternatively we may just enter the ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " expression which is then automatically translated to a ",
 "FORM",
 " program:"
}], "Text"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"FormLink", "[", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"a", "+", "b"}], ")"}], "^", "2"}], "]"}]], "Input"],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"FORM and FormRead finished, time needed before translating to \
Mathematica: \"\>", "\[InvisibleSpace]", "0.0012000000000000001`", 
   "\[InvisibleSpace]", "\<\" sec\"\>"}],
  SequenceForm[
  "FORM and FormRead finished, time needed before translating to Mathematica: \
", 0.0012000000000000001`, " sec"],
  Editable->False]], "Print"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Translation done. Total wall clock time needed: \"\>", 
   "\[InvisibleSpace]", "0.0507`", "\[InvisibleSpace]", "\<\" sec\"\>"}],
  SequenceForm[
  "Translation done. Total wall clock time needed: ", 0.0507, " sec"],
  Editable->False]], "Print"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  SuperscriptBox["a", "2"], "+", 
  RowBox[{"2", " ", "a", " ", "b"}], "+", 
  SuperscriptBox["b", "2"]}]], "Output",
 LineColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 FrontFaceColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 BackFaceColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 GraphicsColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 FontFamily->"Courier",
 FontColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 "Expand  ",
 Cell[BoxData[
  FormBox[
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{
     "a", "+", "b", "+", "c", "+", "d", "+", "e", "+", "f", "+", "g"}], ")"}],
     "21"], TraditionalForm]]]
}], "Subsubsection",
 CellChangeTimes->{{3.564166739862583*^9, 3.5641667640729685`*^9}, {
  3.564255662482559*^9, 3.56425566276336*^9}}],

Cell[TextData[{
 "The default option setting of Form2M does general translation of FORM \
syntax to ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " / FeynCalc. Here we can use the simpler ToExpression as a setting of \
Form2M."
}], "Text",
 CellChangeTimes->{{3.564166958364081*^9, 3.564166964723445*^9}}],

Cell[TextData[{
 "While it is possible to use even 42 instead of 21, we see already for power \
21 that it takes longer to transfer the large expression between FORM and ",
 StyleBox["Mathematica ",
  FontSlant->"Italic"],
 "than to calculate it in either FORM or ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " directly. So it is best not to transfer large expressions, if possible."
}], "Text",
 CellChangeTimes->{{3.564166782932047*^9, 3.5641667927626095`*^9}, {
  3.564166824155405*^9, 3.5641668297957273`*^9}, {3.5642556812971926`*^9, 
  3.5642556816403933`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"fresult", " ", "=", " ", "\[IndentingNewLine]", 
    RowBox[{"FormLink", "[", 
     RowBox[{
     "\"\<\n\t\t\tSymbols a,b,c,d,e,f,g;\n\t\t\tLocal F = (a+b+c+d+e+f+g)^21;\
\n           \>\"", ",", "\[IndentingNewLine]", "\t \t ", 
      RowBox[{"Form2M", "\[Rule]", "ToExpression"}]}], "\[IndentingNewLine]", 
     "]"}]}], ";"}], " "}]], "Input",
 CellChangeTimes->{
  3.5641552376962085`*^9, 3.5641668382752123`*^9, {3.564256035731505*^9, 
   3.564256038102709*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"FORM and FormRead finished, time needed before translating to \
Mathematica: \"\>", "\[InvisibleSpace]", "1.2522`", 
   "\[InvisibleSpace]", "\<\" sec\"\>"}],
  SequenceForm[
  "FORM and FormRead finished, time needed before translating to Mathematica: \
", 1.2522, " sec"],
  Editable->False]], "Print"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Translation done. Total wall clock time needed: \"\>", 
   "\[InvisibleSpace]", "7.7328`", "\[InvisibleSpace]", "\<\" sec\"\>"}],
  SequenceForm[
  "Translation done. Total wall clock time needed: ", 7.7328, " sec"],
  Editable->False]], "Print"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"fresult", "//", "Length"}]], "Input",
 CellChangeTimes->{3.5641552397673273`*^9}],

Cell[BoxData["296010"], "Output"]
}, Open  ]],

Cell[TextData[{
 "So for somewhat larger expressions there is noticable overhead for piping \
the expression \nback to ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " as a string by FormRead and \nfor translating the string to \n",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " syntax (ToExpression)."
}], "Text"],

Cell["An accurate timing of FORM can be done by using RunForm:", "Text"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"?", "RunForm"}]], "Input"],

Cell[BoxData[
 StyleBox["\<\"RunForm[script] runs script in FORM and writes the result to \
\\\"runform.frm\\\" and the log file to \\\"form.log\\\" in the directory \
Directory[].\\nRunForm[script, formfile] uses formfile instead of \
runform.frm. The first argument script can be a string or a list of \
strings.\\nAn optional third argument can be give to use a specific FORM \
executable, otherwise a FORM executable from $FormLinkDir/bin is used.\"\>", 
  "MSG"]], "Print", "PrintUsage",
 CellTags->"Info3638863010-6517792"]
}, Open  ]],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetDirectory", "[", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
  "RunForm", "@", 
   "\"\<On ShortStats;\n\t\t\tSymbols a,b,c,d,e,f,g;\n\t\t\tLocal F = \
(a+b+c+d+e+f+g)^21;\n           \>\""}], ";"}]}], "Input"],

Cell["\<\
FORM 4.0 (Apr 10 2012) 64-bits                   Run: Fri Apr 24 11:16:51 2015
    On ShortStats;
    Symbols a,b,c,d,e,f,g;
    Local F = (a+b+c+d+e+f+g)^21;
    
    .end
      0.17s        1>    100000       100000:   5231680 F 
      0.36s        1>    200000       200000:  10404076 F 
      0.54s        1>    296010       296010:  14926380 F 
      0.58s        1>    296010-->    296010:  14926308 F 
  0.58 sec out of 0.58 sec\
\>", "Program",
 GeneratedCell->True,
 CellAutoOverwrite->True,
 LineColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 FrontFaceColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 BackFaceColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 GraphicsColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 FontFamily->"Courier",
 FontColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.]]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 "Expand  ",
 Cell[BoxData[
  FormBox[
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{
     "a", "+", "b", "+", "c", "+", "d", "+", "e", "+", "f", "+", "g"}], ")"}],
     "42"], TraditionalForm]]],
 " using RunForm"
}], "Subsubsection",
 CellChangeTimes->{{3.564166739862583*^9, 3.5641667640729685`*^9}, {
  3.564255662482559*^9, 3.56425566276336*^9}, {3.5642575892321963`*^9, 
  3.564257611775236*^9}}],

Cell["\<\
Notice that the following three Input Cells below have the option Cell / Cell \
Evaluatable 
set to False, i.e., if you want to re-evaluate it, set it to True.\
\>", "Text"],

Cell["\<\
Last[StringSplit[#,\[CloseCurlyDoubleQuote]\\n\[CloseCurlyDoubleQuote]]]& is \
a pure function to extract the last line of the string output of RunForm, \
returning the timing.\
\>", "Text"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Last", "[", 
    RowBox[{"StringSplit", "[", 
     RowBox[{"#", ",", "\"\<\\n\>\""}], "]"}], "]"}], "&"}], "@", " ", 
  "\[IndentingNewLine]", 
  RowBox[{"RunForm", "[", 
   RowBox[{
   "\"\<  On ShortStats;\n\t\t\tSymbols a,b,c,d,e,f,g;\n\t\t\tLocal F = \
(a+b+c+d+e+f+g)^42;\n           \>\"", ",", 
    RowBox[{"Print", "\[Rule]", "False"}]}], "]"}]}]], "Input",
 Evaluatable->False,
 CellChangeTimes->{{3.564256062722923*^9, 3.5642560690666976`*^9}, {
   3.5642560999018316`*^9, 3.5642561006368427`*^9}, 3.564256414893828*^9, {
   3.564256505421669*^9, 3.5642565191974936`*^9}, {3.5642568164652166`*^9, 
   3.56425682406243*^9}, {3.5642571141690674`*^9, 3.5642571173378735`*^9}, {
   3.564257166162821*^9, 3.564257175478038*^9}, {3.5642572718095922`*^9, 
   3.5642572719811926`*^9}, 3.564257335957041*^9, {3.564257381171039*^9, 
   3.564257381513544*^9}, {3.5642575382393436`*^9, 3.5642575386605444`*^9}, {
   3.5642578874921117`*^9, 3.5642579008155355`*^9}, {3.564258033287101*^9, 
   3.5642580746956763`*^9}, {3.564258281239895*^9, 3.564258309321944*^9}, {
   3.564259579770259*^9, 3.564259593712097*^9}, {3.5642597519365096`*^9, 
   3.5642597700828066`*^9}}],

Cell[BoxData[
 FormBox["\<\"  83.85 sec out of 86.46 sec\"\>", TraditionalForm]], "Output",
 LineColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 FrontFaceColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 BackFaceColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 GraphicsColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 FontFamily->"Courier",
 FontColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"First", " ", "@", " ", 
  RowBox[{"AbsoluteTiming", "[", " ", 
   RowBox[{
    RowBox[{"mresult", " ", "=", " ", 
     RowBox[{"Expand", "[", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
        "a", "+", "b", "+", "c", "+", "d", "+", "e", "+", "f", "+", "g"}], 
        ")"}], "^", "42"}], "]"}]}], ";"}], "]"}]}]], "Input",
 Evaluatable->False,
 CellChangeTimes->{{3.56415519575581*^9, 3.5641552494828825`*^9}, 
   3.5641553017888746`*^9, 3.5641670229227734`*^9, {3.564255503659603*^9, 
   3.564255508438176*^9}, {3.564256255535391*^9, 3.564256255782895*^9}, 
   3.564256448209034*^9, {3.5642570534415255`*^9, 3.5642570565313306`*^9}, 
   3.564257180017646*^9, {3.564257299704441*^9, 3.5642573521810694`*^9}, {
   3.5642574666732693`*^9, 3.56425746696967*^9}}],

Cell[BoxData[
 FormBox["63.24861760000000288073351839557290077209`7.821650951028622", 
  TraditionalForm]], "Output"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"Length", "@", " ", "mresult"}], ",", " ", 
   RowBox[{"MemoryInUse", "[", "]"}], ",", " ", 
   RowBox[{"Clear", "[", "mresult", "]"}], ",", " ", 
   RowBox[{"MemoryInUse", "[", "]"}]}], "}"}]], "Input",
 Evaluatable->False,
 CellChangeTimes->{{3.56415519575581*^9, 3.5641552494828825`*^9}, 
   3.5641553017888746`*^9, 3.5641670229227734`*^9, {3.564255503659603*^9, 
   3.564255508438176*^9}, {3.5642574455196323`*^9, 3.5642574495444393`*^9}, {
   3.56425982578881*^9, 3.5642598477329764`*^9}}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"12271512", ",", "2039817984", ",", "Null", ",", "165005184"}], 
   "}"}], TraditionalForm]], "Output"]
}, Open  ]],

Cell["\<\
So mresult has more than 12 million terms and it occupies around 2 GB of \
space.\
\>", "Text"],

Cell[TextData[{
 "For this example with a lot of terms FORM 4 is slightly slower than ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " 9."
}], "Text"],

Cell[BoxData[
 RowBox[{"Clear", "[", 
  RowBox[{"fresult", ",", "mresult"}], "]"}]], "Input",
 CellChangeTimes->{{3.564255546858099*^9, 3.56425555331651*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 " ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    RowBox[{
     SuperscriptBox[
      RowBox[{"(", 
       RowBox[{"a", "+", "b"}], ")"}], "6"], "and", " ", 
     SuperscriptBox["a", "2"], "b"}], "\[Rule]", "c"}], TraditionalForm]]]
}], "Subsubsection",
 CellChangeTimes->{{3.5641671527922015`*^9, 3.5641671652749157`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"FormLink", "[", 
  "\"\<\n\t\t\tSymbols a,b,c;\n\t\t\tLocal F=(a+b)^6;\n\t\t\tid a^2*b = c;\n\
\>\"", "]"}]], "Input",
 CellChangeTimes->{{3.564256389866449*^9, 3.564256397417565*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"FORM and FormRead finished, time needed before translating to \
Mathematica: \"\>", "\[InvisibleSpace]", "0.0016`", 
   "\[InvisibleSpace]", "\<\" sec\"\>"}],
  SequenceForm[
  "FORM and FormRead finished, time needed before translating to Mathematica: \
", 0.0016, " sec"],
  Editable->False]], "Print"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Translation done. Total wall clock time needed: \"\>", 
   "\[InvisibleSpace]", "0.09670000000000001`", 
   "\[InvisibleSpace]", "\<\" sec\"\>"}],
  SequenceForm[
  "Translation done. Total wall clock time needed: ", 0.09670000000000001, 
   " sec"],
  Editable->False]], "Print"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  SuperscriptBox["a", "6"], "+", 
  RowBox[{"6", " ", "a", " ", 
   SuperscriptBox["b", "5"]}], "+", 
  SuperscriptBox["b", "6"], "+", 
  RowBox[{"6", " ", 
   SuperscriptBox["a", "3"], " ", "c"}], "+", 
  RowBox[{"20", " ", "a", " ", 
   SuperscriptBox["b", "2"], " ", "c"}], "+", 
  RowBox[{"15", " ", 
   SuperscriptBox["b", "3"], " ", "c"}], "+", 
  RowBox[{"15", " ", 
   SuperscriptBox["c", "2"]}]}]], "Output",
 LineColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 FrontFaceColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 BackFaceColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 GraphicsColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 FontFamily->"Courier",
 FontColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.]]
}, Open  ]],

Cell[TextData[{
 "To do the same in ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " requires more work:"
}], "Text",
 CellChangeTimes->{{3.564167598383688*^9, 3.56416760995935*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"Expand", "[", 
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"a", "+", "b"}], ")"}], "6"], "]"}], "//.", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{
     RowBox[{"a", "^", 
      RowBox[{"(", 
       RowBox[{"n_Integer", "/;", 
        RowBox[{"n", ">", "1"}]}], ")"}]}], "*", 
     RowBox[{"(", 
      RowBox[{"b", "^", 
       RowBox[{"(", "m_.", " ", ")"}]}], " ", ")"}]}], "\[Rule]", 
    RowBox[{"(", " ", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"a", "^", 
         RowBox[{"(", 
          RowBox[{"n", "-", "2"}], ")"}]}], "c"}], ")"}], " ", 
      RowBox[{"b", "^", 
       RowBox[{"(", 
        RowBox[{"m", "-", "1"}], ")"}]}]}], ")"}]}], ")"}]}]], "Input",
 CellChangeTimes->{{3.5641671840999928`*^9, 3.5641672030840783`*^9}, {
  3.564167395923108*^9, 3.564167462641924*^9}, {3.5641675085675507`*^9, 
  3.5641675785475535`*^9}}],

Cell[BoxData[
 RowBox[{
  SuperscriptBox["a", "6"], "+", 
  RowBox[{"6", " ", "a", " ", 
   SuperscriptBox["b", "5"]}], "+", 
  SuperscriptBox["b", "6"], "+", 
  RowBox[{"6", " ", 
   SuperscriptBox["a", "3"], " ", "c"}], "+", 
  RowBox[{"20", " ", "a", " ", 
   SuperscriptBox["b", "2"], " ", "c"}], "+", 
  RowBox[{"15", " ", 
   SuperscriptBox["b", "3"], " ", "c"}], "+", 
  RowBox[{"15", " ", 
   SuperscriptBox["c", "2"]}]}]], "Output"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 "Multiple Local variables: Local F1= ",
 Cell[BoxData[
  FormBox[
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"a", "+", "b", "+", "c"}], ")"}], "10"], TraditionalForm]]],
 "      Local F2 = ",
 Cell[BoxData[
  FormBox[
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"a", "+", "b", "+", "c", "+", "d"}], ")"}], "10"], 
   TraditionalForm]]]
}], "Subsubsection",
 CellChangeTimes->{{3.5641676386049886`*^9, 3.5641676920920477`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Length", " ", "/@", " ", 
  RowBox[{
  "FormLink", "[", 
   "\"\<\n\t\t\t\t\t#:SmallSize 2000;\n\t\t\t\t\t#:LargePatches 4;\n\t\t\t\t\t\
Symbols a,b,c,d;\n\t\t\t\t\tLocal F1 = (a+b+c)^10;\n\t\t\t\t\tLocal F2 = \
(a+b+c+d)^10;\n\>\"", "]"}]}]], "Input"],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"FORM and FormRead finished, time needed before translating to \
Mathematica: \"\>", "\[InvisibleSpace]", "0.0029000000000000002`", 
   "\[InvisibleSpace]", "\<\" sec\"\>"}],
  SequenceForm[
  "FORM and FormRead finished, time needed before translating to Mathematica: \
", 0.0029000000000000002`, " sec"],
  Editable->False]], "Print"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Translation done. Total wall clock time needed: \"\>", 
   "\[InvisibleSpace]", "0.1183`", "\[InvisibleSpace]", "\<\" sec\"\>"}],
  SequenceForm[
  "Translation done. Total wall clock time needed: ", 0.1183, " sec"],
  Editable->False]], "Print"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"66", ",", "286"}], "}"}]], "Output",
 LineColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 FrontFaceColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 BackFaceColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 GraphicsColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 FontFamily->"Courier",
 FontColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Length", "/@", 
  RowBox[{"Expand", "[", 
   RowBox[{"{", 
    RowBox[{
     SuperscriptBox[
      RowBox[{"(", 
       RowBox[{"a", "+", "b", "+", "c"}], ")"}], "10"], ",", 
     SuperscriptBox[
      RowBox[{"(", 
       RowBox[{"a", "+", "b", "+", "c", "+", "d"}], ")"}], "10"]}], "}"}], 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.564167709026016*^9, 3.5641677476002226`*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"66", ",", "286"}], "}"}]], "Output"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Commuting and noncommuting functions", "Subsubsection",
 CellChangeTimes->{{3.5641677952849503`*^9, 3.564167836282295*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"FormLink", "[", 
  RowBox[{
  "\"\<\n\tFunctions FA1,FB1;\n\tCFunctions FA2,FB2;\n\tLocal F1 = \
(FA1+FB1)^3;\n\tLocal F2 = (FA2+FB2)^3;\n\>\"", ",", 
   RowBox[{"Form2M", "\[RuleDelayed]", 
    RowBox[{"Function", "[", 
     RowBox[{"x", ",", " ", 
      RowBox[{"ToExpression", "[", 
       RowBox[{"StringReplace", "[", 
        RowBox[{"x", ",", 
         RowBox[{"\"\<*\>\"", "\[Rule]", "\"\<**\>\""}]}], "]"}], "]"}]}], 
     "]"}]}]}], "\[IndentingNewLine]", "]"}]], "Input"],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"FORM and FormRead finished, time needed before translating to \
Mathematica: \"\>", "\[InvisibleSpace]", "0.0018000000000000002`", 
   "\[InvisibleSpace]", "\<\" sec\"\>"}],
  SequenceForm[
  "FORM and FormRead finished, time needed before translating to Mathematica: \
", 0.0018000000000000002`, " sec"],
  Editable->False]], "Print"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Translation done. Total wall clock time needed: \"\>", 
   "\[InvisibleSpace]", "0.1588`", "\[InvisibleSpace]", "\<\" sec\"\>"}],
  SequenceForm[
  "Translation done. Total wall clock time needed: ", 0.1588, " sec"],
  Editable->False]], "Print"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{"FA1", "**", "FA1", "**", "FA1"}], "+", 
    RowBox[{"FA1", "**", "FA1", "**", "FB1"}], "+", 
    RowBox[{"FA1", "**", "FB1", "**", "FA1"}], "+", 
    RowBox[{"FA1", "**", "FB1", "**", "FB1"}], "+", 
    RowBox[{"FB1", "**", "FA1", "**", "FA1"}], "+", 
    RowBox[{"FB1", "**", "FA1", "**", "FB1"}], "+", 
    RowBox[{"FB1", "**", "FB1", "**", "FA1"}], "+", 
    RowBox[{"FB1", "**", "FB1", "**", "FB1"}]}], ",", 
   RowBox[{
    SuperscriptBox["FA2", "3"], "+", 
    SuperscriptBox["FB2", "3"], "+", 
    RowBox[{"3", "**", "FA2", "**", 
     SuperscriptBox["FB2", "2"]}], "+", 
    RowBox[{"3", "**", 
     SuperscriptBox["FA2", "2"], "**", "FB2"}]}]}], "}"}]], "Output"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Index and Vector (Local F=p1(i1)*(p2(i1)+p3(i3))*(p1(i2)+p2(i3));)\
\>", "Subsubsection",
 CellChangeTimes->{{3.5641679054812527`*^9, 3.5641679109125633`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"tmp", "=", 
  RowBox[{
  "FormLink", "[", 
   "\"\<\n               Index i1,i2,i3;\n               Vector p1,p2,p3;\n   \
            Local F=p1(i1)*(p2(i1)+p3(i3))*(p1(i2)+p2(i3));\n\>\"", 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.5641134315655355`*^9, 3.564113434236539*^9}, {
  3.564167931692752*^9, 3.5641679558111315`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"FORM and FormRead finished, time needed before translating to \
Mathematica: \"\>", "\[InvisibleSpace]", "0.0011`", 
   "\[InvisibleSpace]", "\<\" sec\"\>"}],
  SequenceForm[
  "FORM and FormRead finished, time needed before translating to Mathematica: \
", 0.0011, " sec"],
  Editable->False]], "Print"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Translation done. Total wall clock time needed: \"\>", 
   "\[InvisibleSpace]", "0.054900000000000004`", 
   "\[InvisibleSpace]", "\<\" sec\"\>"}],
  SequenceForm[
  "Translation done. Total wall clock time needed: ", 0.054900000000000004`, 
   " sec"],
  Editable->False]], "Print"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"p2", ".", "p3"}], " ", 
   RowBox[{"p1", "[", "i1", "]"}]}], "+", 
  RowBox[{
   RowBox[{"p1", ".", "p2"}], " ", 
   RowBox[{"p1", "[", "i2", "]"}]}], "+", 
  RowBox[{
   RowBox[{"p1", ".", "p2"}], " ", 
   RowBox[{"p2", "[", "i3", "]"}]}], "+", 
  RowBox[{
   RowBox[{"p1", "[", "i1", "]"}], " ", 
   RowBox[{"p1", "[", "i2", "]"}], " ", 
   RowBox[{"p3", "[", "i3", "]"}]}]}]], "Output",
 LineColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 FrontFaceColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 BackFaceColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 GraphicsColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 FontFamily->"Courier",
 FontColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"tmp", "//", "InputForm"}]], "Input",
 CellChangeTimes->{{3.564113436546542*^9, 3.564113439737547*^9}}],

Cell["\<\
p2 . p3*p1[i1] + p1 . p2*p1[i2] + p1 . p2*p2[i3] + p1[i1]*p1[i2]*p3[i3]\
\>", "Output"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"tmp", "=", 
  RowBox[{"FormLink", "[", 
   RowBox[{
   "\"\<\n\t\t\t\t\tIndex i1,i2,i3;\n\t\t\t\t\tVector p1,p2,p3;\n\t\t\t\t\t\
Local F=p1(i1)*(p2(i1)+p3(i3))*(p1(i2)+p2(i3));\n\>\"", ",", 
    RowBox[{"Form2M", "\[Rule]", "Identity"}]}], "]"}]}]], "Input"],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"FORM and FormRead finished, time needed before translating to \
Mathematica: \"\>", "\[InvisibleSpace]", "0.0009000000000000001`", 
   "\[InvisibleSpace]", "\<\" sec\"\>"}],
  SequenceForm[
  "FORM and FormRead finished, time needed before translating to Mathematica: \
", 0.0009000000000000001, " sec"],
  Editable->False]], "Print"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Translation done. Total wall clock time needed: \"\>", 
   "\[InvisibleSpace]", "0.07680000000000001`", 
   "\[InvisibleSpace]", "\<\" sec\"\>"}],
  SequenceForm[
  "Translation done. Total wall clock time needed: ", 0.07680000000000001, 
   " sec"],
  Editable->False]], "Print"]
}, Open  ]],

Cell[BoxData["\<\"(p1(i1)*p1(i2)*p3(i3)+p1(i1)*p2.p3+p1(i2)*p1.p2+p2(i3)*p1.\
p2)\"\>"], "Output",
 LineColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 FrontFaceColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 BackFaceColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 GraphicsColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.],
 FontFamily->"Courier",
 FontColor->RGBColor[0.44444444444444453`, 0.22222222222222227`, 0.]]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"tmp", "//", "InputForm"}]], "Input"],

Cell["\<\
\"(p1(i1)*p1(i2)*p3(i3)+p1(i1)*p2.p3+p1(i2)*p1.p2+p2(i3)*p1.p2)\"\
\>", "Output"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"tmp2", "=", 
  RowBox[{"Form2FC", "[", 
   RowBox[{"tmp", ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"p1", " ", "\[Rule]", " ", 
       RowBox[{"Momentum", "[", "p1", "]"}]}], ",", 
      RowBox[{"p2", " ", "\[Rule]", " ", 
       RowBox[{"Momentum", "[", "p2", "]"}]}], ",", 
      RowBox[{"p3", " ", "\[Rule]", " ", 
       RowBox[{"Momentum", "[", "p3", "]"}]}], " ", ",", 
      "\[IndentingNewLine]", "                         ", 
      RowBox[{"i1", " ", "\[Rule]", 
       RowBox[{"LorentzIndex", "[", "i1", "]"}]}], ",", " ", 
      RowBox[{"i2", " ", "\[Rule]", 
       RowBox[{"LorentzIndex", "[", "i2", "]"}]}], ",", " ", 
      RowBox[{"i3", " ", "\[Rule]", 
       RowBox[{"LorentzIndex", "[", "i3", "]"}]}]}], "}"}]}], 
   "]"}]}]], "Input"],

Cell[BoxData[
 RowBox[{"Form2FC", "[", 
  RowBox[{"\<\"(p1(i1)*p1(i2)*p3(i3)+p1(i1)*p2.p3+p1(i2)*p1.p2+p2(i3)*p1.p2)\"\
\>", ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"p1", "\[Rule]", 
      RowBox[{"Momentum", "[", "p1", "]"}]}], ",", 
     RowBox[{"p2", "\[Rule]", 
      RowBox[{"Momentum", "[", "p2", "]"}]}], ",", 
     RowBox[{"p3", "\[Rule]", 
      RowBox[{"Momentum", "[", "p3", "]"}]}], ",", 
     RowBox[{"i1", "\[Rule]", 
      RowBox[{"LorentzIndex", "[", "i1", "]"}]}], ",", 
     RowBox[{"i2", "\[Rule]", 
      RowBox[{"LorentzIndex", "[", "i2", "]"}]}], ",", 
     RowBox[{"i3", "\[Rule]", 
      RowBox[{"LorentzIndex", "[", "i3", "]"}]}]}], "}"}]}], "]"}]], "Output"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"tmp2", "//", "InputForm"}]], "Input"],

Cell["\<\
Form2FC[\"(p1(i1)*p1(i2)*p3(i3)+p1(i1)*p2.p3+p1(i2)*p1.p2+p2(i3)*p1.p2)\", 
 {p1 -> Momentum[p1], p2 -> Momentum[p2], p3 -> Momentum[p3], i1 -> \
LorentzIndex[i1], i2 -> LorentzIndex[i2], 
  i3 -> LorentzIndex[i3]}]\
\>", "Output"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"tmp2", "//", "FCI"}], "//", "InputForm"}]], "Input"],

Cell["\<\
FCI[Form2FC[\"(p1(i1)*p1(i2)*p3(i3)+p1(i1)*p2.p3+p1(i2)*p1.p2+p2(i3)*p1.p2)\", 
  {p1 -> Momentum[p1], p2 -> Momentum[p2], p3 -> Momentum[p3], i1 -> \
LorentzIndex[i1], i2 -> LorentzIndex[i2], 
   i3 -> LorentzIndex[i3]}]]\
\>", "Output"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"Clear", "[", 
  RowBox[{"tmp", ",", "tmp2"}], "]"}]], "Input"],

Cell["\<\
This sets back the default output format type to StandardForm.\
\>", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"SetOptions", "[", 
     RowBox[{"#", ",", 
      RowBox[{"\"\<CommonDefaultFormatTypes\>\"", "\[Rule]", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"\"\<Input\>\"", "\[Rule]", "StandardForm"}], ",", 
         RowBox[{"\"\<InputInline\>\"", "\[Rule]", "StandardForm"}], ",", 
         RowBox[{"\"\<Output\>\"", "\[Rule]", "StandardForm"}], ",", 
         RowBox[{"\"\<OutputInline\>\"", "\[Rule]", "StandardForm"}], ",", 
         RowBox[{"\"\<Text\>\"", "\[Rule]", "TextForm"}], ",", 
         RowBox[{"\"\<TextInline\>\"", "\[Rule]", "TraditionalForm"}]}], 
        "}"}]}]}], "]"}], "&"}], "/@", 
   RowBox[{"{", 
    RowBox[{"$FrontEnd", ",", "$FrontEndSession"}], "}"}]}], ";"}]], "Input"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
WindowToolbars->"EditBar",
WindowSize->{1280, 714},
WindowMargins->{{312, Automatic}, {Automatic, 87}},
PrivateNotebookOptions->{"FileOutlineCache"->False,
"VersionedStylesheet"->{"Default.nb"[8.] -> False}},
ShowSelection->True,
TrackCellChangeTimes->False,
FrontEndVersion->"10.0 for Linux x86 (64-bit) (September 9, 2014)",
StyleDefinitions->"Default.nb",
$CellContext`TrackCellChangeTimes -> False
]
